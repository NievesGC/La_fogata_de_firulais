(()=>{var e,o={275:(e,o,n)=>{"use strict";const a=window.wp.domReady;var i=n.n(a);window.React;const t=window.wp.hooks,s=window.wp.blocks,l=window.wp.compose,r=window.wp.i18n,c=window.wp.element,m=window.wp.blockEditor,d=window.wp.components,u=window.wp.data,b=window.wp.notices,f=window.wp.keycodes,h=window.wp.primitives,_=window.ReactJSXRuntime,p=(0,_.jsx)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,_.jsx)(h.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})}),k=(0,_.jsxs)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,_.jsx)(h.Path,{d:"m7 6.5 4 2.5-4 2.5z"}),(0,_.jsx)(h.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m5 3c-1.10457 0-2 .89543-2 2v14c0 1.1046.89543 2 2 2h14c1.1046 0 2-.8954 2-2v-14c0-1.10457-.8954-2-2-2zm14 1.5h-14c-.27614 0-.5.22386-.5.5v10.7072l3.62953-2.6465c.25108-.1831.58905-.1924.84981-.0234l2.92666 1.8969 3.5712-3.4719c.2911-.2831.7545-.2831 1.0456 0l2.9772 2.8945v-9.3568c0-.27614-.2239-.5-.5-.5zm-14.5 14.5v-1.4364l4.09643-2.987 2.99567 1.9417c.2936.1903.6798.1523.9307-.0917l3.4772-3.3806 3.4772 3.3806.0228-.0234v2.5968c0 .2761-.2239.5-.5.5h-14c-.27614 0-.5-.2239-.5-.5z"})]}),v=(0,_.jsx)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,_.jsx)(h.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5 4.5h11a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V5a.5.5 0 0 1 .5-.5ZM3 5a2 2 0 0 1 2-2h11a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm17 3v10.75c0 .69-.56 1.25-1.25 1.25H6v1.5h12.75a2.75 2.75 0 0 0 2.75-2.75V8H20Z"})}),g=(0,_.jsx)(h.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,_.jsx)(h.Path,{d:"M16 4.2v1.5h2.5v12.5H16v1.5h4V4.2h-4zM4.2 19.8h4v-1.5H5.8V5.8h2.5V4.2h-4l-.1 15.6zm5.1-3.1l1.4.6 4-10-1.4-.6-4 10z"})}),w=(0,_.jsx)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,_.jsx)(h.Path,{d:"M12 4a8 8 0 1 1 .001 16.001A8 8 0 0 1 12 4Zm0 1.5a6.5 6.5 0 1 0-.001 13.001A6.5 6.5 0 0 0 12 5.5Zm.75 11h-1.5V15h1.5v1.5Zm-.445-9.234a3 3 0 0 1 .445 5.89V14h-1.5v-1.25c0-.57.452-.958.917-1.01A1.5 1.5 0 0 0 12 8.75a1.5 1.5 0 0 0-1.5 1.5H9a3 3 0 0 1 3.305-2.984Z"})}),x=(0,_.jsxs)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,_.jsx)(h.Path,{d:"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z"}),(0,_.jsx)(h.Path,{d:"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z"})]}),j=(0,_.jsx)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,_.jsx)(h.Path,{d:"M5 11.25h14v1.5H5z"})});var y=n(500),C=n.n(y);const S=({children:e,className:o,...n})=>(0,_.jsx)("div",{role:"group",...n,className:C()("wsd-anfb__button-group__group",o),children:e}),B=e=>{const{id:o,label:n,hideLabelFromVision:a=!1,help:i,className:t,options:s=[],value:r=[],onChange:c,pills:m=!1,fluid:u=!1,isSmall:b=!1}=e,f=(0,l.useInstanceId)(B,"wsd-anfb-button-group",o);return(0,_.jsx)(d.BaseControl,{className:C()("wsd-anfb__button-group",{"wsd-anfb__button-group--fluid":u,"wsd-anfb__button-group--pills":m,"wsd-anfb__button-group--hide-label":a},t),label:(0,_.jsx)("span",{id:f,children:n}),help:i,__nextHasNoMarginBottom:!0,children:(0,_.jsx)(S,{"aria-labelledby":f,children:s.map((({label:e,value:o})=>{const n=r.includes(o);return(0,_.jsx)(d.Button,{size:b?"small":void 0,variant:n?"primary":"secondary",children:e,...c&&{onClick:()=>{c(n?r.filter((e=>e!==o)):r.concat(o))}}},o)}))})})};B.Radio=({className:e,value:o,onChange:n,...a})=>(0,_.jsx)(B,{className:C()("wsd-anfb__button-group-radio",e),value:o?[o]:[],...n&&{onChange:e=>{n(e.length>0?e[e.length-1]:"")}},...a});const A=B,F=[{label:"0",value:0},{label:`500${(0,r._x)("ms","Milliseconds","animations-for-blocks")}`,value:500},{label:`1${(0,r._x)("s","Seconds","animations-for-blocks")}`,value:1e3},{label:`1.5${(0,r._x)("s","Seconds","animations-for-blocks")}`,value:1500},{label:`2${(0,r._x)("s","Seconds","animations-for-blocks")}`,value:2e3},{label:`2.5${(0,r._x)("s","Seconds","animations-for-blocks")}`,value:2500},{label:`3${(0,r._x)("s","Seconds","animations-for-blocks")}`,value:3e3}],P=(e=0)=>`${e}${(0,r._x)("ms","Milliseconds","animations-for-blocks")}`,I=({label:e,help:o,max:n=3e3,value:a,onChange:i})=>(0,_.jsx)(d.RangeControl,{className:"wsd-anfb__range-control",label:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("span",{children:e}),(0,_.jsx)("span",{"data-type":"value",children:P(a)})]}),help:o,value:a,onChange:i,min:0,step:50,max:n,withInputField:!1,marks:F,showTooltip:!1,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),M=[{label:(0,r.__)("Fade","animations-for-blocks"),value:"fade"},{label:(0,r.__)("Flip","animations-for-blocks"),value:"flip"},{label:(0,r.__)("Slide","animations-for-blocks"),value:"slide"},{label:(0,r.__)("Zoom","animations-for-blocks"),value:"zoom"},{label:(0,r.__)("Scale","animations-for-blocks"),value:"scale"}],N=[{label:(0,r.__)("Inherit","animations-for-blocks"),value:"inherit"}],E=[{label:(0,r.__)("Default","animations-for-blocks"),value:"default"}],R=[...N,...E].map((({value:e})=>e)),O={fade:[{label:(0,r.__)("Fade in","animations-for-blocks"),value:"fade"},{label:(0,r.__)("Fade up","animations-for-blocks"),value:"up"},{label:(0,r.__)("Fade down","animations-for-blocks"),value:"down"},{label:(0,r.__)("Fade left","animations-for-blocks"),value:"left"},{label:(0,r.__)("Fade right","animations-for-blocks"),value:"right"},{label:(0,r.__)("Fade up left","animations-for-blocks"),value:"up-left"},{label:(0,r.__)("Fade up right","animations-for-blocks"),value:"up-right"},{label:(0,r.__)("Fade down left","animations-for-blocks"),value:"down-left"},{label:(0,r.__)("Fade down right","animations-for-blocks"),value:"down-right"}],flip:[{label:(0,r.__)("Flip up","animations-for-blocks"),value:"up"},{label:(0,r.__)("Flip down","animations-for-blocks"),value:"down"},{label:(0,r.__)("Flip left","animations-for-blocks"),value:"left"},{label:(0,r.__)("Flip right","animations-for-blocks"),value:"right"}],slide:[{label:(0,r.__)("Slide up","animations-for-blocks"),value:"up"},{label:(0,r.__)("Slide down","animations-for-blocks"),value:"down"},{label:(0,r.__)("Slide left","animations-for-blocks"),value:"left"},{label:(0,r.__)("Slide right","animations-for-blocks"),value:"right"}],zoom:[{label:(0,r.__)("Zoom in","animations-for-blocks"),value:"in"},{label:(0,r.__)("Zoom in up","animations-for-blocks"),value:"in-up"},{label:(0,r.__)("Zoom in down","animations-for-blocks"),value:"in-down"},{label:(0,r.__)("Zoom in left","animations-for-blocks"),value:"in-left"},{label:(0,r.__)("Zoom in right","animations-for-blocks"),value:"in-right"},{label:(0,r.__)("Zoom out","animations-for-blocks"),value:"out"},{label:(0,r.__)("Zoom out up","animations-for-blocks"),value:"out-up"},{label:(0,r.__)("Zoom out down","animations-for-blocks"),value:"out-down"},{label:(0,r.__)("Zoom out left","animations-for-blocks"),value:"out-left"},{label:(0,r.__)("Zoom out right","animations-for-blocks"),value:"out-right"}],scale:[{label:(0,r.__)("Scale in","animations-for-blocks"),value:"in"},{label:(0,r.__)("Scale in X","animations-for-blocks"),value:"in-x"},{label:(0,r.__)("Scale in Y","animations-for-blocks"),value:"in-y"},{label:(0,r.__)("Scale out","animations-for-blocks"),value:"out"},{label:(0,r.__)("Scale out X","animations-for-blocks"),value:"out-x"},{label:(0,r.__)("Scale out Y","animations-for-blocks"),value:"out-y"}]},T=[{label:(0,r.__)("ease","animations-for-blocks"),value:"ease"},{label:(0,r.__)("ease-in","animations-for-blocks"),value:"ease-in"},{label:(0,r.__)("ease-out","animations-for-blocks"),value:"ease-out"},{label:(0,r.__)("ease-in-out","animations-for-blocks"),value:"ease-in-out"},{label:(0,r.__)("ease-in-back","animations-for-blocks"),value:"ease-in-back"},{label:(0,r.__)("ease-out-back","animations-for-blocks"),value:"ease-out-back"},{label:(0,r.__)("ease-in-out-back","animations-for-blocks"),value:"ease-in-out-back"},{label:(0,r.__)("ease-in-sine","animations-for-blocks"),value:"ease-in-sine"},{label:(0,r.__)("ease-out-sine","animations-for-blocks"),value:"ease-out-sine"},{label:(0,r.__)("ease-in-out-sine","animations-for-blocks"),value:"ease-in-out-sine"},{label:(0,r.__)("ease-in-quad","animations-for-blocks"),value:"ease-in-quad"},{label:(0,r.__)("ease-out-quad","animations-for-blocks"),value:"ease-out-quad"},{label:(0,r.__)("ease-in-out-quad","animations-for-blocks"),value:"ease-in-out-quad"},{label:(0,r.__)("ease-in-cubic","animations-for-blocks"),value:"ease-in-cubic"},{label:(0,r.__)("ease-out-cubic","animations-for-blocks"),value:"ease-out-cubic"},{label:(0,r.__)("ease-in-out-cubic","animations-for-blocks"),value:"ease-in-out-cubic"},{label:(0,r.__)("ease-in-quart","animations-for-blocks"),value:"ease-in-quart"},{label:(0,r.__)("ease-out-quart","animations-for-blocks"),value:"ease-out-quart"},{label:(0,r.__)("ease-in-out-quart","animations-for-blocks"),value:"ease-in-out-quart"},{label:(0,r.__)("linear","animations-for-blocks"),value:"linear"}],z=[{label:(0,r.__)("top-bottom","animations-for-blocks"),value:"top-bottom"},{label:(0,r.__)("center-bottom","animations-for-blocks"),value:"center-bottom"},{label:(0,r.__)("bottom-bottom","animations-for-blocks"),value:"bottom-bottom"},{label:(0,r.__)("top-center","animations-for-blocks"),value:"top-center"},{label:(0,r.__)("center-center","animations-for-blocks"),value:"center-center"},{label:(0,r.__)("bottom-center","animations-for-blocks"),value:"bottom-center"},{label:(0,r.__)("top-top","animations-for-blocks"),value:"top-top"},{label:(0,r.__)("bottom-top","animations-for-blocks"),value:"bottom-top"},{label:(0,r.__)("center-top","animations-for-blocks"),value:"center-top"}],D=[{value:"px",label:"web"===c.Platform.OS?"px":(0,r.__)("Pixels (px)","animations-for-blocks"),a11yLabel:(0,r.__)("Pixels (px)","animations-for-blocks"),step:1}],H=({label:e,help:o,allowInherit:n=!1,allowDefault:a=!1,required:i=!1,value:t,onChange:s})=>{const[l,m]=(0,c.useState)(!1),{animation:u,variation:b,delay:f=0,duration:h=400,once:p=!1,mirror:k=!1,easing:v=T[0].value,anchorPlacement:g=z[0].value,offset:w=120}=t,j=!(!u||"none"===u),y=e=>{const o={...t,...e};s(o)};return(0,_.jsx)(d.BaseControl,{className:"wsd-anfb__animation-control",label:e,help:o,__nextHasNoMarginBottom:!0,children:(0,_.jsxs)(d.__experimentalVStack,{spacing:4,children:[(0,_.jsx)(A.Radio,{pills:!0,label:(0,r.__)("Select animation","animations-for-blocks"),hideLabelFromVision:!0,options:[...M,...n?N:[],...a?E:[]],value:u,onChange:e=>{const o=!(!e||"none"===e);if(i&&!o)return;const n=o&&e in O?O[e].map((e=>e.value)):[""],a=o?b&&n.includes(b)?b:n[0]:b;y({animation:e,variation:a})}}),j&&u in O&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(A.Radio,{isSmall:!0,pills:!0,label:(0,r.__)("Animation variation","animations-for-blocks"),hideLabelFromVision:!0,options:O[u],value:b||O[u][0].value,onChange:e=>{i&&!e||y({variation:e})}}),(0,_.jsx)(I,{label:(0,r.__)("Duration","animations-for-blocks"),value:h,onChange:(e=400)=>y({duration:e})}),(0,_.jsx)(I,{label:(0,r.__)("Delay","animations-for-blocks"),value:f,onChange:(e=0)=>y({delay:e})}),(0,_.jsx)(d.Button,{variant:"secondary",size:"small",className:C()("wsd-anfb__button",{"wsd-anfb__button-active":l}),onClick:()=>m(!l),children:(0,_.jsxs)(d.__experimentalHStack,{alignment:"center",justify:"center",children:[(0,_.jsx)(d.Icon,{icon:x,size:16}),(0,_.jsx)("span",{children:(0,r.__)("Advanced settings","animations-for-blocks")})]})}),l&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(d.ToggleControl,{label:(0,r.__)("Once","animations-for-blocks"),help:(0,r.__)("Animate only once, when scrolling down for the first time.","animations-for-blocks"),checked:p,onChange:()=>y({once:!p,mirror:!p&&k?!k:k}),__nextHasNoMarginBottom:!0}),(0,_.jsx)(d.ToggleControl,{label:(0,r.__)("Mirror","animations-for-blocks"),help:(0,r.__)("Animate out after scrolling past the element and in when scrolling up again.","animations-for-blocks"),checked:k,onChange:()=>y({mirror:!k,once:!k&&p?!p:p}),__nextHasNoMarginBottom:!0}),(0,_.jsx)(A.Radio,{isSmall:!0,pills:!0,label:(0,r.__)("Easing","animations-for-blocks"),help:(0,r.__)("Transition timing function.","animations-for-blocks"),options:T,value:v,onChange:e=>{i&&!e||v!==e&&y({easing:e})}}),(0,_.jsx)(A.Radio,{isSmall:!0,pills:!0,label:(0,r.__)("Anchor placement","animations-for-blocks"),help:(0,r.__)("Defines which position of the element regarding to window should trigger the animation.","animations-for-blocks"),options:z,value:g,onChange:e=>{i&&!e||g!==e&&y({anchorPlacement:e})}}),(0,_.jsx)(d.__experimentalUnitControl,{label:(0,r.__)("Offset","animations-for-blocks"),help:(0,r.__)("Offset from the original trigger point.","animations-for-blocks"),type:"number",value:`${w}px`,isDragEnabled:!1,isUnitSelectTabbable:!1,units:D,onChange:(e="120")=>{const o=parseInt(e.replace("px",""));y({offset:isNaN(o)?120:o})},__next40pxDefaultSize:!0})]})]})]})})},V=({onRequestClose:e})=>(0,_.jsx)(d.Modal,{className:"wsd-anfb__help",title:(0,r.__)("Animations for Blocks help","animations-for-blocks"),onRequestClose:e,children:(0,_.jsxs)("div",{className:"wsd-anfb__help__content",children:[(0,_.jsx)("h3",{children:(0,r.__)("Options","animations-for-blocks")}),(0,_.jsx)("h4",{children:(0,r.__)("Animation","animations-for-blocks")}),(0,_.jsx)("p",{children:(0,r.__)("Allows to select the type of animation you wish to use: Fade, Flip, Slide, Zoom, Scale, Inherit or Default. Click the active option again if you no longer wish to animate that block.","animations-for-blocks")}),(0,_.jsx)("p",{children:(0,r.__)('The "Default" animation can be configured in the plugin settings. When you change the default animation the changes will reflect everywhere the default animation was previously applied.',"animations-for-blocks")}),(0,_.jsx)("p",{children:(0,r.__)('The "Inherit" animation uses the animation configured on a parent "Animation provider" block. To create an animation provider insert the "Animation container" block and enable the "Is animation provider" option on it. You can then nest multiple blocks inside of it that can all inherit the same animation, optionally with a stagger, making their animations play one after another. The stagger delay amount can be configured on the "Animation provider" block.',"animations-for-blocks")}),(0,_.jsx)("h4",{children:(0,r.__)("Animation variation","animations-for-blocks")}),(0,_.jsx)("p",{children:(0,r.__)("Allows to switch between the different variations of the selected animation, such as Fade in, Fade down, Slide left, Slide right, Zoom in, Zoom out, Zoom out left, etc.","animations-for-blocks")}),(0,_.jsx)("h4",{children:(0,r.__)("Animation delay","animations-for-blocks")}),(0,_.jsx)("p",{children:(0,r.__)("Time in milliseconds to delay the animation (0 - 3000ms). Determines how long to wait before the animation starts playing.","animations-for-blocks")}),(0,_.jsx)("h4",{children:(0,r.__)("Animation duration","animations-for-blocks")}),(0,_.jsx)("p",{children:(0,r.__)("Time in milliseconds that the animation takes to complete (0 - 3000ms). Increasing this value will make the animation play longer and slower.","animations-for-blocks")}),(0,_.jsx)("h4",{children:(0,r.__)("Once","animations-for-blocks")}),(0,_.jsx)("p",{children:(0,r.__)("When enabled, animation will only happen once, when scrolling down the page for the first time. When user scrolls up again and then down, then the block will no longer animate.","animations-for-blocks")}),(0,_.jsx)("h4",{children:(0,r.__)("Mirror","animations-for-blocks")}),(0,_.jsx)("p",{children:(0,r.__)("When enabled, elements will animate out once the user has scrolled past them and will animate in when the user scrolls up again.","animations-for-blocks")}),(0,_.jsx)("h4",{children:(0,r.__)("Easing","animations-for-blocks")}),(0,_.jsx)("p",{children:(0,r.__)("Allows to change between various CSS transition timing functions for the animation making it unfold differently.","animations-for-blocks")}),(0,_.jsx)("h4",{children:(0,r.__)("Anchor placement","animations-for-blocks")}),(0,_.jsx)("p",{children:(0,r.__)("Allows to control what part of the animated element should trigger the animation when it becomes visible in the viewport.","animations-for-blocks")}),(0,_.jsx)("h4",{children:(0,r.__)("Offset","animations-for-blocks")}),(0,_.jsx)("p",{children:(0,r.__)("Controls the offset (in pixels) from the original trigger point at which the animation should trigger in the viewport.","animations-for-blocks")}),(0,_.jsx)("h3",{children:(0,r.__)("Reduced motion","animations-for-blocks")}),(0,_.jsx)("p",{children:(0,r.__)('By default the plugin will not play animations for users that have the "prefers-reduced-motion" setting enabled for their device.',"animations-for-blocks")}),(0,_.jsx)("p",{children:(0,r.__)('This functionality can be turned off by enabling the "Ignore reduced motion preference" plugin option, how ever it\'s not recommended.',"animations-for-blocks")}),(0,_.jsx)("p",{children:(0,r.__)('If your device has "prefers-reduced-motion" enabled and you want to disable it ask an AI for instructions as the procedure varies depending on which operating system and device you are using.',"animations-for-blocks")}),(0,_.jsx)("h3",{children:(0,r.__)("Broken block","animations-for-blocks")}),(0,_.jsx)("p",{children:(0,r.__)('If you enabled animation and the block broke it means it is not supported. Feel free to report it. To restore the block in working condition try "Undo", if possible "Attempt Block Recovery", or change to "Code editor" (Ctrl + Shift + Alt + M) and remove the animation attributes (e.g.: \'"animationsForBlocks":{"animation":"fade"}\') from the broken block.',"animations-for-blocks")})]})}),q=window.wp.isShallowEqual;var Z=n.n(q);const $=window.wp.coreData;window.anfbData||(window.anfbData={unsupportedBlocks:[],settings:J});const L=window.anfbData.unsupportedBlocks,G=window.anfbData.settings,W={animation:"scale",variation:"in-x",delay:0,duration:800,once:!0,mirror:!1,easing:"ease-out-cubic",offset:120,anchorPlacement:"top-bottom"},J={animateInEditor:!0,lazyloadAssets:!0,lenis:"off",location:"default",defaultAnimation:W,ignoreReducedMotionPreference:!1},Y=()=>{const[,,e=G]=(0,$.useEntityProp)("root","site","animations-for-blocks");return e},U=()=>{const[e=G,o]=(0,$.useEntityProp)("root","site","animations-for-blocks");return[e,o]},X=[{label:(0,r.__)("Never","animations-for-blocks"),value:"off"},{label:(0,r.__)("When the current page contains animations","animations-for-blocks"),value:"animate"},{label:(0,r.__)("Always","animations-for-blocks"),value:"on"}],K=[{label:(0,r.__)("Default","animations-for-blocks"),value:"default"},{label:(0,r.__)("Styles","animations-for-blocks"),value:"styles"},{label:(0,r.__)("Advanced","animations-for-blocks"),value:"advanced"}],Q=({onRequestClose:e})=>{const[o,n]=U(),{animateInEditor:a,lazyloadAssets:i,lenis:t="off",location:s="default",defaultAnimation:l=W,ignoreReducedMotionPreference:c}=o;return(0,_.jsx)(d.Modal,{className:"wsd-anfb__settings",title:(0,r.__)("Animations for Blocks settings","animations-for-blocks"),onRequestClose:e,children:(0,_.jsxs)(d.__experimentalVStack,{className:"wsd-anfb__settings__content",spacing:8,children:[(0,_.jsx)(d.ToggleControl,{label:(0,r.__)("Automatic animation preview","animations-for-blocks"),help:(0,r.__)("Play block animations in the editor automatically.","animations-for-blocks"),checked:a,onChange:()=>n({...o,animateInEditor:!a}),__nextHasNoMarginBottom:!0}),(0,_.jsx)(d.ToggleControl,{label:(0,r.__)("Lazyload assets","animations-for-blocks"),help:(0,r.__)("Load assets only when a block with an animation is present on the current page.","animations-for-blocks"),checked:i,onChange:()=>n({...o,lazyloadAssets:!i}),__nextHasNoMarginBottom:!0}),(0,_.jsx)(d.RadioControl,{label:(0,r.__)("Load Lenis","animations-for-blocks"),help:(0,r.__)("Lenis is a smooth scroll library.","animations-for-blocks"),options:X,selected:t,onChange:e=>n({...o,lenis:e})}),(0,_.jsx)(d.ToggleControl,{label:(0,r.__)("Ignore reduced motion preference","animations-for-blocks"),help:(0,r.__)("Enable this if you want all users to see animations despite their `prefers-reduced-motion` preference.","animations-for-blocks"),checked:c,onChange:()=>n({...o,ignoreReducedMotionPreference:!c}),__nextHasNoMarginBottom:!0}),(0,_.jsx)(A.Radio,{label:(0,r.__)("Inspector controls location","animations-for-blocks"),help:(0,r.__)("Determines the area in the block options sidebar where animation options are displayed.","animations-for-blocks"),options:K,value:s,onChange:e=>n({...o,location:e||"default"})}),(0,_.jsx)(H,{label:(0,r.__)("Default animation","animations-for-blocks"),help:(0,r.__)('Animation that is used when the chosen animation is "Default".',"animations-for-blocks"),value:l,onChange:e=>n({...o,defaultAnimation:e}),required:!0}),(0,_.jsx)(d.Button,{className:"wsd-anfb__settings__reset-button",size:"small",variant:"secondary",children:(0,r.__)("Reset default animation to default","animations-for-blocks"),onClick:()=>n({...o,defaultAnimation:W}),disabled:Z()(W,l)})]})})},ee=({children:e})=>{const{location:o="default"}=Y();return"advanced"===o?(0,_.jsx)(m.InspectorAdvancedControls,{children:e}):(0,_.jsx)(m.InspectorControls,{group:o,children:e})},oe=(0,_.jsx)(d.Icon,{icon:(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",width:20,height:20,fill:"currentColor",children:(0,_.jsx)("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})})}),ne="anfb:animate",ae=new CustomEvent(ne),ie="anfb:",te="wsd-anfb-paste",se=({clientId:e,attributes:o,setAttributes:n})=>{const{animationsForBlocks:a={},isAnimationProvider:i=!1}=o,{animation:t}=a,[{ignoreReducedMotionPreference:s}]=U(),h=!(!t||"none"===t),[y,C]=(0,c.useState)(!1),[S,B]=(0,c.useState)(!1),[A,F]=(0,c.useState)(!1),P=(0,c.useRef)(null),{createSuccessNotice:I,createErrorNotice:N}=(0,u.useDispatch)(b.store),E=(0,l.useCopyToClipboard)((()=>`${ie}${JSON.stringify(a)}`),(()=>I((0,r.__)("Copied animation settings to clipboard.","animations-for-blocks"),{type:"snackbar"})));(0,c.useEffect)((()=>{P.current=new CustomEvent(`${ne}:${e}`)}),[e]),(0,c.useEffect)((()=>{A&&document.getElementById(te)?.focus()}),[A]);const R=e=>{const o=()=>N((0,r.__)("Invalid animation.","animations-for-blocks"),{type:"snackbar"});if(0!==e.indexOf(ie))return void o();let i={};try{i=JSON.parse(e.replace(ie,""))}catch(e){return void o()}const{animation:t}=i;if(!t)return void o();const s=M.find((({value:e})=>e===t));var l;s?(l=i,n({animationsForBlocks:{...a,...l}}),I((0,r.sprintf)((0,r.__)("Applied animation: %s.","animations-for-blocks"),s.label),{type:"snackbar"})):o()};return(0,_.jsxs)(ee,{children:[(0,_.jsxs)(d.Panel,{className:"wsd-anfb",children:[(0,_.jsx)(d.PanelHeader,{children:(0,_.jsxs)(d.__experimentalHStack,{alignment:"center",justify:"space-between",children:[(0,_.jsx)("h2",{style:{margin:0},children:(0,r.__)("Animation","animations-for-blocks")}),(0,_.jsx)(d.DropdownMenu,{icon:p,label:(0,r.__)("More actions","animations-for-blocks"),toggleProps:{size:"small"},children:({onClose:e})=>(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(d.MenuGroup,{className:"wsd-anfb__menu-group",children:[(0,_.jsx)(d.MenuItem,{icon:oe,children:(0,r.__)("Animate block","animations-for-blocks"),disabled:!h||i,onClick:()=>{P.current&&document.dispatchEvent(P.current),e()}}),(0,_.jsx)(d.MenuItem,{icon:k,children:(0,r.__)("Animate all blocks","animations-for-blocks"),onClick:()=>{document.dispatchEvent(ae),e()}}),(0,_.jsx)(d.MenuItem,{icon:v,children:(0,r.__)("Copy animation","animations-for-blocks"),disabled:!h,ref:E,onClick:e}),(0,_.jsxs)(d.MenuItem,{icon:g,onClick:async()=>{window.navigator.clipboard?(R(await window.navigator.clipboard.readText()),e()):F(!0)},children:[A&&(0,_.jsx)(m.RichText,{id:te,tagName:"span",placeholder:(0,r.sprintf)((0,r._x)("Press %s…","Keyboard shortcut","animations-for-blocks"),f.displayShortcut.primary("v")),value:"",onChange:o=>{R(o),F(!1),e()}}),!A&&(0,r.__)("Paste animation","animations-for-blocks")]}),(0,_.jsx)(d.MenuItem,{icon:w,children:(0,r.__)("Help","animations-for-blocks"),onClick:()=>{C(!0),e()}}),(0,_.jsx)(d.MenuItem,{icon:x,children:(0,r.__)("Settings","animations-for-blocks"),onClick:()=>{B(!0),e()}})]}),Object.keys(a).length>0&&(0,_.jsx)(d.MenuGroup,{children:(0,_.jsx)(d.MenuItem,{icon:j,children:(0,r.__)("Reset animation","animations-for-blocks"),onClick:()=>{n({animationsForBlocks:void 0}),e()}})})]})})]})}),(0,_.jsxs)(d.PanelBody,{children:[!s&&(0,_.jsxs)(d.Notice,{className:"wsd-anfb__notice__reduced-motion",status:"warning",isDismissible:!1,children:[(0,_.jsx)("strong",{children:(0,r.__)("Reduced motion enabled","animations-for-blocks")}),(0,_.jsx)("p",{children:(0,r.__)('Your device has "prefers-reduced-motion" setting enabled so you won\'t see animations on the front end.',"animations-for-blocks")}),(0,_.jsx)("p",{children:(0,r.__)("Other users will still see the animations.","animations-for-blocks")})]}),(0,_.jsx)(H,{allowInherit:!i,allowDefault:!0,value:a,onChange:e=>n({animationsForBlocks:e})})]})]}),y&&(0,_.jsx)(V,{onRequestClose:()=>C(!1)}),S&&(0,_.jsx)(Q,{onRequestClose:()=>B(!1)})]})},le=(e={},o="save")=>{let n={};if(!e)return n;const{animation:a,variation:i,delay:t,duration:s,once:l,mirror:r,easing:c,offset:m,anchorPlacement:d}=e;return a&&"none"!==a?("save"===o&&R.includes(a)||(n["data-aos"]=a===i?a:`${a}-${i}`,t&&0!==t&&(n["data-aos-delay"]=t.toString()),s&&400!==s&&(n["data-aos-duration"]=s.toString()),c&&"ease"!==c&&(n["data-aos-easing"]=c),"edit"===o||(l&&(n["data-aos-once"]="true"),r&&(n["data-aos-mirror"]="true"),m&&120!==m&&(n["data-aos-offset"]=m.toString()),d&&"top-bottom"!==d&&(n["data-aos-anchor-placement"]=d))),n):n},re=e=>{const{BlockListBlock:o,...n}=e,{clientId:a,attributes:i,wrapperProps:t={}}=n,{animationsForBlocks:l={},isAnimationProvider:r=!1}=i,d=((e,o={},n=!1)=>{const{animation:a=""}=o,i=(0,u.useSelect)((o=>{if(!n)return!1;const i=()=>{const e=o($.store).getEditedEntityRecord("root","site",void 0),{"animations-for-blocks":n={}}=e||{},{defaultAnimation:a=W}=n;return a};if("default"===a)return i();if("inherit"===a){const n=e=>{for(const n of e){const e=o(m.store).getBlock(n);if(e)return e}return!1},a=n(o(m.store).getBlockParentsByBlockName(e,"anfb/animation-container",!0));if(!a)return!1;const t=o(s.store).getBlockType(a.name);if(!t)return!1;if(0===Object.keys(t.providesContext).length)return!1;const l=Object.fromEntries(Object.entries(t.providesContext).map((([e,o])=>[e,a.attributes[o]]))),{animationsForBlocksAnimation:r={}}=l;return!(!r?.animation||"inherit"===r.animation)&&("default"===r.animation?i():r)}return!1}),[e,a,n]);if(!n)return!1;switch(a){case"none":return!1;case"default":return i||W;case"inherit":return i}return o})(a,l,!r),{delay:b=0,duration:f=400}=d||{},{animateInEditor:h}=Y(),p=!1!==d,[k,v]=(0,c.useState)(!1),[g,w]=(0,c.useState)(!h),x=(0,c.useRef)(b+f),j=(0,c.useRef)([]);(0,c.useEffect)((()=>{x.current=b+f}),[b,f]);const y=(0,c.useCallback)((()=>{j.current.forEach(clearTimeout),v(!1),w(!0),j.current=[setTimeout((()=>w(!1)),50)]}),[a]);return(0,c.useEffect)((()=>{const{animation:e}=d;e&&"none"!==e&&h&&y()}),[d,y,h]),(0,c.useEffect)((()=>{g||(j.current.forEach(clearTimeout),j.current=[setTimeout((()=>v(!0)),50)])}),[g]),(0,c.useEffect)((()=>{k&&j.current.push(setTimeout((()=>{v(!1),w(!0)}),x.current))}),[k]),(0,c.useEffect)((()=>{if(p)return document.addEventListener(`${ne}:${a}`,y),document.addEventListener(ne,y),()=>{j.current.forEach(clearTimeout),document.removeEventListener(`${ne}:${a}`,y),document.removeEventListener(ne,y)}}),[p,a,y]),(0,_.jsx)(o,{...n,wrapperProps:{...t,...p&&{...le(d,"edit"),className:C()(t.className,{"aos-init":!0,"aos-animate":k||g,"wsd-anfb-is-animating":k}),"data-anfb-init":!0,...(k||g)&&{"data-anfb-animate":!0},...k&&{"data-anfb-is-animating":!0}}}})},ce=(0,t.applyFilters)("anfb.defaultEnabled",!0),me=e=>{const o=e.name||e;return!L.includes(o)&&(0,s.hasBlockSupport)(e,"animationsForBlocks",ce)},de={animationsForBlocks:{type:"object"}},ue=(0,l.createHigherOrderComponent)((e=>o=>me(o.name)?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(e,{...o}),(0,_.jsx)(se,{...o})]}):(0,_.jsx)(e,{...o})),"withAnimationsForBlocksInspectorControls"),be=(0,l.createHigherOrderComponent)((e=>o=>me(o.name)?(0,_.jsx)(re,{...o,BlockListBlock:e}):(0,_.jsx)(e,{...o})),"withAnimatedBlockListBlock"),fe=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"anfb/animation-container","title":"Animation container","description":"A container that can be animated or provide an animation to child blocks.","keywords":["group","wrapper"],"category":"design","icon":"media-interactive","textdomain":"animations-for-blocks","supports":{"anchor":true,"animationsForBlocks":true},"attributes":{"isAnimationProvider":{"type":"boolean","default":false},"animationStagger":{"type":"number","default":0}},"providesContext":{"animationsForBlocksProvider":"isAnimationProvider","animationsForBlocksAnimation":"animationsForBlocks","animationsForBlocksStagger":"animationStagger"},"usesContext":["animationsForBlocksProvider","animationsForBlocksAnimation","animationsForBlocksStagger"]}'),he={edit:e=>{const{attributes:o,setAttributes:n}=e,{isAnimationProvider:a=!1,animationStagger:i=0,animationsForBlocks:t={}}=o,{animation:s=""}=t,l=(0,m.useBlockProps)(),c=(0,m.useInnerBlocksProps)(l);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(m.InspectorControls,{children:(0,_.jsxs)(d.PanelBody,{children:[(0,_.jsx)(d.ToggleControl,{label:(0,r.__)("Is animation provider","animations-for-blocks"),help:(0,r.__)('Instead of animating this block, provide the current animation to all child blocks that use the "Inherit" animation.',"animations-for-blocks"),checked:a,onChange:()=>n({isAnimationProvider:!a,...!a&&["inherit","default"].includes(s)&&{animationsForBlocks:{...t,animation:""}}}),__nextHasNoMarginBottom:!0}),a&&(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(I,{label:(0,r.__)("Stagger","animations-for-blocks"),help:(0,r.__)("Delay subsequent animations incrementally by this amount.","animations-for-blocks"),value:i,max:1e3,onChange:(e=0)=>n({animationStagger:e})})})]})}),(0,_.jsx)("div",{...c})]})},save:()=>{const e=m.useBlockProps.save(),o=m.useInnerBlocksProps.save(e);return(0,_.jsx)("div",{...o})},__experimentalLabel:(e,{context:o})=>{const n=e?.metadata?.name;if("list-view"===o&&n)return n;const{isAnimationProvider:a=!1}=e;return a?(0,r.__)("Animation provider","animations-for-blocks"):void 0}};(0,t.addFilter)("blocks.registerBlockType","wsd-anfb/attributes",(function(e){return me(e)&&(e.attributes=Object.assign(e.attributes||{},de)),e})),(0,t.addFilter)("editor.BlockEdit","wsd-anfb/inspector-controls",ue),(0,t.addFilter)("blocks.getSaveContent.extraProps","wsd-anfb/animation-props",((e,o,n)=>{if(me(o)){const{animationsForBlocks:o={},isAnimationProvider:a=!1}=n;if(a)return a;const i=le(o);i["data-aos"]&&(e={...e,...i})}return e})),(0,t.addFilter)("editor.BlockListBlock","wsd-anfb/blocklistblock-animation",be),i()((()=>{(0,s.registerBlockType)(fe,he)}))},500:(e,o)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function i(){for(var e="",o=0;o<arguments.length;o++){var n=arguments[o];n&&(e=s(e,t(n)))}return e}function t(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var o="";for(var n in e)a.call(e,n)&&e[n]&&(o=s(o,n));return o}function s(e,o){return o?e?e+" "+o:e+o:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(o,[]))||(e.exports=n)}()}},n={};function a(e){var i=n[e];if(void 0!==i)return i.exports;var t=n[e]={exports:{}};return o[e](t,t.exports,a),t.exports}a.m=o,e=[],a.O=(o,n,i,t)=>{if(!n){var s=1/0;for(m=0;m<e.length;m++){for(var[n,i,t]=e[m],l=!0,r=0;r<n.length;r++)(!1&t||s>=t)&&Object.keys(a.O).every((e=>a.O[e](n[r])))?n.splice(r--,1):(l=!1,t<s&&(s=t));if(l){e.splice(m--,1);var c=i();void 0!==c&&(o=c)}}return o}t=t||0;for(var m=e.length;m>0&&e[m-1][2]>t;m--)e[m]=e[m-1];e[m]=[n,i,t]},a.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return a.d(o,{a:o}),o},a.d=(e,o)=>{for(var n in o)a.o(o,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},a.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={57:0,350:0};a.O.j=o=>0===e[o];var o=(o,n)=>{var i,t,[s,l,r]=n,c=0;if(s.some((o=>0!==e[o]))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(r)var m=r(a)}for(o&&o(n);c<s.length;c++)t=s[c],a.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return a.O(m)},n=globalThis.webpackChunkanimations_for_blocks=globalThis.webpackChunkanimations_for_blocks||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))})();var i=a.O(void 0,[350],(()=>a(275)));i=a.O(i)})();